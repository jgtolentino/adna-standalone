<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_ipai_brand_image_tree" model="ir.ui.view">
        <field name="name">ipai.brand.image.tree</field>
        <field name="model">ipai.brand.image</field>
        <field name="arch" type="xml">
            <tree>
                <field name="captured_at"/>
                <field name="store_id"/>
                <field name="aisle_id"/>
                <field name="shelf_id"/>
                <field name="source"/>
                <field name="model_version"/>
                <field name="detection_count"/>
            </tree>
        </field>
    </record>

    <record id="view_ipai_brand_image_form" model="ir.ui.view">
        <field name="name">ipai.brand.image.form</field>
        <field name="model">ipai.brand.image</field>
        <field name="arch" type="xml">
            <form string="Brand Detection Image">
                <sheet>
                    <group>
                        <field name="captured_at"/>
                        <field name="store_id"/>
                        <field name="aisle_id"/>
                        <field name="shelf_id"/>
                    </group>
                    <group>
                        <field name="source"/>
                        <field name="model_version"/>
                        <field name="processed_at"/>
                        <field name="image_path"/>
                    </group>
                    <group>
                        <field name="image" filename="image_path" class="oe_avatar"/>
                    </group>
                    <notebook>
                        <page string="Detections">
                            <field name="detection_ids">
                                <tree editable="bottom">
                                    <field name="class_name"/>
                                    <field name="product_id"/>
                                    <field name="brand_id"/>
                                    <field name="confidence"/>
                                    <field name="x_min"/>
                                    <field name="y_min"/>
                                    <field name="x_max"/>
                                    <field name="y_max"/>
                                    <field name="area_px"/>
                                    <field name="is_meta"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Metrics">
                            <field name="metric_ids">
                                <tree>
                                    <field name="date"/>
                                    <field name="brand_id"/>
                                    <field name="facings"/>
                                    <field name="share_of_shelf"/>
                                    <field name="oos_flag"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_ipai_brand_detection_tree" model="ir.ui.view">
        <field name="name">ipai.brand.detection.tree</field>
        <field name="model">ipai.brand.detection</field>
        <field name="arch" type="xml">
            <tree>
                <field name="image_id"/>
                <field name="store_id"/>
                <field name="product_id"/>
                <field name="brand_id"/>
                <field name="class_name"/>
                <field name="confidence"/>
                <field name="x_min"/>
                <field name="y_min"/>
                <field name="x_max"/>
                <field name="y_max"/>
                <field name="area_px"/>
                <field name="is_meta"/>
            </tree>
        </field>
    </record>

    <record id="view_ipai_brand_detection_form" model="ir.ui.view">
        <field name="name">ipai.brand.detection.form</field>
        <field name="model">ipai.brand.detection</field>
        <field name="arch" type="xml">
            <form string="Brand Detection">
                <sheet>
                    <group>
                        <field name="image_id"/>
                        <field name="store_id" readonly="1"/>
                    </group>
                    <group>
                        <field name="product_id"/>
                        <field name="brand_id"/>
                        <field name="class_name"/>
                        <field name="confidence"/>
                    </group>
                    <group string="BBox">
                        <field name="x_min"/>
                        <field name="y_min"/>
                        <field name="x_max"/>
                        <field name="y_max"/>
                        <field name="area_px"/>
                    </group>
                    <group>
                        <field name="is_meta"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_ipai_brand_image" model="ir.actions.act_window">
        <field name="name">Detection Images</field>
        <field name="res_model">ipai.brand.image</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record id="action_ipai_brand_detection" model="ir.actions.act_window">
        <field name="name">Brand Detections</field>
        <field name="res_model">ipai.brand.detection</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>
